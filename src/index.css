/* ================================================================
   ZERØ MERIDIAN — index.css — push88 BLOOMBERG-GRADE DESIGN SYSTEM
   BG: #080a10 | Panel: #0d0f17 | Accent blue: #4f7fff
   Bull: #3dd68c | Bear: #ff6666 | Warn: #ffb400
   ================================================================ */

@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ── Core BG ── */
    --zm-bg-base:            rgba(8,10,16,1);
    --zm-bg-secondary:       rgba(11,13,20,1);
    --zm-bg-panel:           rgba(13,15,23,1);
    --zm-sidebar-bg:         rgba(6,7,13,1);
    --zm-topbar-bg:          rgba(8,10,16,0.96);

    /* ── Glass ── */
    --zm-glass-bg:           rgba(255,255,255,0.03);
    --zm-glass-hover:        rgba(255,255,255,0.05);
    --zm-glass-border:       rgba(255,255,255,0.06);
    --zm-glass-border-hover: rgba(79,127,255,0.30);

    /* ── Text ── */
    --zm-text-primary:       rgba(220,225,240,1);
    --zm-text-secondary:     rgba(140,145,170,1);
    --zm-text-faint:         rgba(75,80,105,1);
    --zm-text-disabled:      rgba(55,60,80,1);

    /* ── Accent Blue ── */
    --zm-accent:             rgba(79,127,255,1);
    --zm-accent-bg:          rgba(79,127,255,0.08);
    --zm-accent-border:      rgba(79,127,255,0.20);
    --zm-accent-glow:        0 0 16px rgba(79,127,255,0.25);
    --zm-accent-dim:         rgba(79,127,255,0.06);

    /* ── Positive Green ── */
    --zm-positive:           rgba(61,214,140,1);
    --zm-positive-bg:        rgba(61,214,140,0.08);
    --zm-positive-border:    rgba(61,214,140,0.18);
    --zm-positive-glow:      0 0 12px rgba(61,214,140,0.20);

    /* ── Negative Red ── */
    --zm-negative:           rgba(255,102,102,1);
    --zm-negative-bg:        rgba(255,102,102,0.08);
    --zm-negative-border:    rgba(255,102,102,0.18);
    --zm-negative-glow:      0 0 12px rgba(255,102,102,0.20);

    /* ── Warning ── */
    --zm-warning:            rgba(255,180,50,1);
    --zm-warning-bg:         rgba(255,180,50,0.08);
    --zm-warning-border:     rgba(255,180,50,0.20);

    /* ── Violet ── */
    --zm-violet:             rgba(150,120,255,1);
    --zm-violet-bg:          rgba(150,120,255,0.08);
    --zm-violet-border:      rgba(150,120,255,0.20);
    --zm-violet-glow:        0 0 12px rgba(150,120,255,0.20);

    /* ── Surface layers ── */
    --zm-surface-1:          rgba(255,255,255,0.03);
    --zm-surface-2:          rgba(255,255,255,0.05);
    --zm-surface-3:          rgba(255,255,255,0.07);
    --zm-surface-hover:      rgba(255,255,255,0.05);

    /* ── Divider ── */
    --zm-divider:            rgba(255,255,255,0.06);
    --zm-divider-strong:     rgba(255,255,255,0.10);

    /* ── Card ── */
    --zm-card-bg:            rgba(255,255,255,0.03);
    --zm-card-border:        rgba(255,255,255,0.07);
    --zm-card-border-hover:  rgba(79,127,255,0.30);
    --zm-card-radius:        10px;

    /* ── Fonts ── */
    --zm-font-data:          'JetBrains Mono', monospace;
    --zm-font-ui:            'Space Grotesk', sans-serif;

    /* ── Fluid type ── */
    --text-xs:   clamp(0.65rem, 0.6rem  + 0.25vw, 0.75rem);
    --text-sm:   clamp(0.75rem, 0.7rem  + 0.25vw, 0.875rem);
    --text-base: clamp(0.875rem,0.8rem  + 0.375vw,1rem);
    --text-lg:   clamp(1rem,    0.9rem  + 0.5vw,  1.125rem);
    --text-xl:   clamp(1.125rem,1rem    + 0.625vw,1.25rem);
    --text-2xl:  clamp(1.25rem, 1.1rem  + 0.75vw, 1.5rem);
    --text-3xl:  clamp(1.5rem,  1.2rem  + 1.5vw,  2rem);
    --text-4xl:  clamp(2rem,    1.5rem  + 2.5vw,  3rem);

    /* ── Spacing ── */
    --zm-s1:  4px;
    --zm-s2:  8px;
    --zm-s3:  12px;
    --zm-s4:  16px;
    --zm-s5:  20px;
    --zm-s6:  24px;
    --zm-s8:  32px;
    --zm-s10: 40px;
    --zm-s12: 48px;

    /* ── Motion ── */
    --motion-fast:   150ms;
    --motion-normal: 250ms;
    --motion-slow:   400ms;
    --ease-out:      cubic-bezier(0.16,1,0.3,1);
    --ease-spring:   cubic-bezier(0.34,1.56,0.64,1);
    --ease-smooth:   cubic-bezier(0.4,0,0.2,1);

    /* ── Shadcn compat ── */
    --background:             240 47% 2%;
    --foreground:             240 12% 95%;
    --card:                   240 20% 6%;
    --card-foreground:        240 12% 95%;
    --popover:                240 20% 6%;
    --popover-foreground:     240 12% 95%;
    --primary:                220 100% 65%;
    --primary-foreground:     240 47% 2%;
    --secondary:              240 15% 10%;
    --secondary-foreground:   240 12% 95%;
    --muted:                  240 15% 10%;
    --muted-foreground:       240 8% 55%;
    --accent:                 220 100% 65%;
    --accent-foreground:      240 47% 2%;
    --destructive:            0 85% 65%;
    --destructive-foreground: 0 0% 100%;
    --border:                 240 15% 10%;
    --input:                  240 15% 10%;
    --ring:                   220 100% 65%;
    --radius:                 0.75rem;
    --sidebar-background:     240 47% 2%;
    --sidebar-foreground:     240 12% 95%;
    --sidebar-primary:        220 100% 65%;
    --sidebar-primary-foreground: 240 47% 2%;
    --sidebar-accent:         240 15% 10%;
    --sidebar-accent-foreground:  240 12% 95%;
    --sidebar-border:         240 15% 10%;
    --sidebar-ring:           220 100% 65%;

    font-family: var(--zm-font-ui);
  }

  /* ── LIGHT MODE ── */
  .light {
    --zm-bg-base:            rgba(248,248,252,1);
    --zm-bg-secondary:       rgba(242,242,248,1);
    --zm-bg-panel:           rgba(255,255,255,1);
    --zm-sidebar-bg:         rgba(255,255,255,1);
    --zm-topbar-bg:          rgba(255,255,255,0.97);
    --zm-glass-bg:           rgba(255,255,255,0.97);
    --zm-glass-hover:        rgba(255,255,255,1);
    --zm-glass-border:       rgba(220,220,232,1);
    --zm-glass-border-hover: rgba(79,127,255,0.35);
    --zm-text-primary:       rgba(10,10,20,0.92);
    --zm-text-secondary:     rgba(60,60,90,0.70);
    --zm-text-faint:         rgba(100,100,130,0.55);
    --zm-positive:           rgba(0,180,100,1);
    --zm-positive-bg:        rgba(0,180,100,0.08);
    --zm-positive-border:    rgba(0,180,100,0.22);
    --zm-negative:           rgba(220,30,90,1);
    --zm-negative-bg:        rgba(220,30,90,0.08);
    --zm-negative-border:    rgba(220,30,90,0.22);
    --zm-warning:            rgba(200,130,0,1);
    --zm-warning-bg:         rgba(200,130,0,0.08);
    --zm-warning-border:     rgba(200,130,0,0.22);
    --zm-violet:             rgba(140,80,220,1);
    --zm-violet-bg:          rgba(140,80,220,0.08);
    --zm-violet-border:      rgba(140,80,220,0.22);
    --zm-divider:            rgba(220,220,232,1);
    --zm-divider-strong:     rgba(200,200,218,1);
    --zm-card-bg:            rgba(255,255,255,1);
    --zm-card-border:        rgba(220,220,232,1);
    --zm-card-border-hover:  rgba(79,127,255,0.40);
    --zm-surface-1:          rgba(10,10,20,0.02);
    --zm-surface-2:          rgba(10,10,20,0.04);
    --zm-surface-hover:      rgba(10,10,20,0.03);
    --background:            240 30% 98%;
    --foreground:            240 30% 6%;
    --card:                  0 0% 100%;
    --card-foreground:       240 30% 6%;
    --primary:               220 80% 48%;
    --primary-foreground:    0 0% 100%;
    --secondary:             240 20% 94%;
    --secondary-foreground:  240 30% 6%;
    --muted:                 240 20% 94%;
    --muted-foreground:      240 10% 45%;
    --border:                240 20% 88%;
    --input:                 240 20% 88%;
    --ring:                  220 80% 48%;
    --sidebar-background:    240 30% 98%;
    --sidebar-foreground:    240 30% 6%;
    --sidebar-border:        240 20% 88%;
  }
}

@layer base {
  * { @apply border-border; }
  html { transition: background-color 0.3s ease; }
  body {
    background: var(--zm-bg-base);
    background-image:
      radial-gradient(ellipse 100% 50% at 15% -5%,  rgba(0,80,200,0.12) 0%, transparent 55%),
      radial-gradient(ellipse 80%  40% at 85% 105%, rgba(0,50,160,0.10) 0%, transparent 50%),
      radial-gradient(ellipse 55%  30% at 55%  45%, rgba(79,127,255,0.04) 0%, transparent 60%);
    background-attachment: fixed;
    color: var(--zm-text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-size: var(--text-base);
    font-family: var(--zm-font-ui);
    min-height: 100vh;
  }
  .light body {
    background-image: none;
  }
}

/* ── Scrollbar ── */
::-webkit-scrollbar        { width: 3px; height: 3px; }
::-webkit-scrollbar-track  { background: transparent; }
::-webkit-scrollbar-thumb  { background: var(--zm-accent-border); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--zm-accent); }

/* ── Focus ── */
:focus-visible {
  outline: 2px solid var(--zm-accent);
  outline-offset: 2px;
  border-radius: 4px;
}

/* ── Card ── */
.zm-card {
  background:    var(--zm-card-bg);
  border:        1px solid var(--zm-card-border);
  border-radius: var(--zm-card-radius);
  transition:    border-color var(--motion-fast) var(--ease-out),
                 box-shadow   var(--motion-fast) var(--ease-out);
}
.zm-card:hover {
  border-color: var(--zm-card-border-hover);
}

/* ── Section label Bloomberg-style ── */
.zm-section-label {
  display:        flex;
  align-items:    center;
  gap:            8px;
  margin-bottom:  14px;
  margin-top:     32px;
  font-family:    var(--zm-font-data);
  font-size:      10px;
  letter-spacing: 0.14em;
  color:          var(--zm-text-faint);
  text-transform: uppercase;
}
.zm-section-label::before {
  content:       '';
  display:       block;
  width:         2px;
  height:        12px;
  background:    var(--zm-accent);
  border-radius: 1px;
  opacity:       0.5;
  flex-shrink:   0;
}
.zm-section-label::after {
  content:    '';
  flex:       1;
  height:     1px;
  background: linear-gradient(to right, var(--zm-divider), transparent);
}

/* ── Price flash animations ── */
@keyframes zm-flash-up {
  0%   { background: var(--zm-positive-bg); }
  100% { background: transparent; }
}
@keyframes zm-flash-down {
  0%   { background: var(--zm-negative-bg); }
  100% { background: transparent; }
}
.zm-flash-up   { animation: zm-flash-up   600ms ease-out forwards; }
.zm-flash-down { animation: zm-flash-down 600ms ease-out forwards; }

/* ── Skeleton shimmer ── */
@keyframes zm-shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position:  200% 0; }
}
.zm-skeleton {
  background:      linear-gradient(90deg, var(--zm-surface-1) 25%, var(--zm-surface-2) 50%, var(--zm-surface-1) 75%);
  background-size: 200% 100%;
  animation:       zm-shimmer 1.6s ease-in-out infinite;
  border-radius:   4px;
}

/* ── Number flip ── */
@keyframes zm-number-flip {
  0%   { transform: translateY(0);    opacity: 1; }
  40%  { transform: translateY(-8px); opacity: 0; }
  60%  { transform: translateY(8px);  opacity: 0; }
  100% { transform: translateY(0);    opacity: 1; }
}
.zm-number-flip { animation: zm-number-flip 350ms var(--ease-spring); }

/* ── Pulse dot ── */
@keyframes zm-pulse-dot {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.3; }
}

/* ── Aurora bg subtle ── */
@keyframes zm-aurora {
  0%,100% { opacity: 0.7; transform: scale(1)      translateX(0); }
  50%     { opacity: 1;   transform: scale(1.06)  translateX(16px); }
}

/* ── Ticker scroll ── */
@keyframes zm-ticker-scroll {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* ── Spin ── */
@keyframes spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

/* ── Slide in ── */
@keyframes zm-slide-up {
  from { transform: translateY(10px); opacity: 0; }
  to   { transform: translateY(0);    opacity: 1; }
}
@keyframes zm-fade-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* ── Utility classes ── */
.zm-animate-slide-up { animation: zm-slide-up  var(--motion-normal) var(--ease-out); }
.zm-animate-fade-in  { animation: zm-fade-in   var(--motion-normal) var(--ease-smooth); }
.zm-no-select        { -webkit-user-select: none; user-select: none; }
.zm-scroll           { -webkit-overflow-scrolling: touch; overflow-y: auto; }

/* ── Text colors ── */
.zm-text-positive { color: var(--zm-positive); }
.zm-text-negative { color: var(--zm-negative); }
.zm-text-accent   { color: var(--zm-accent); }
.zm-text-warning  { color: var(--zm-warning); }
.zm-text-faint    { color: var(--zm-text-faint); }
.zm-text-secondary{ color: var(--zm-text-secondary); }

/* ── Input ── */
input {
  background:   var(--zm-surface-1);
  border-color: var(--zm-divider);
  color:        var(--zm-text-primary);
}
input:focus {
  border-color: var(--zm-accent-border) !important;
  box-shadow:   0 0 0 3px var(--zm-accent-dim) !important;
  outline:      none;
}
.light input {
  background:   rgba(255,255,255,0.95) !important;
  border-color: rgba(220,220,232,1) !important;
  color:        rgba(10,10,20,0.92) !important;
}

/* ── Table hover ── */
tr:hover td { background: rgba(79,127,255,0.03) !important; }

/* ── Mobile nav safe area ── */
.zm-bottom-nav { padding-bottom: env(safe-area-inset-bottom, 0px); }

/* ── Touch ── */
button, a, [role="button"] { touch-action: manipulation; }

/* ── Reduced motion ── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration:        0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration:       0.01ms !important;
  }
}

/* ── Print ── */
@media print {
  aside, header { display: none; }
  main          { margin: 0 !important; }
}
